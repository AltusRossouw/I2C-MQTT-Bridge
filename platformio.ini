[env:esp32dev]
platform = espressif32
board = esp32dev
framework = arduino

monitor_speed = 115200
monitor_filters =
  colorize
  esp32_exception_decoder
  time

; Filesystem used by the firmware (LittleFS)
board_build.filesystem = littlefs

; Use a partition scheme that supports OTA (default has two app slots)
board_build.partitions = default.csv

; Default upload over USB/serial
upload_protocol = esptool

; Library resolver
lib_ldf_mode = chain+

; Use the ESPHome-maintained forks (correct registry names)
lib_deps =
  bblanchon/ArduinoJson @ ^7
  esphome/AsyncTCP-esphome @ ^2
  esphome/ESPAsyncWebServer-esphome @ ^3
  knolleary/PubSubClient @ ^2

[env:esp32dev-ota]
extends = env:esp32dev

; Network OTA upload via ArduinoOTA
upload_protocol = espota
; Set to your deviceâ€™s mDNS hostname (printed at boot) or IP address
upload_port = radar-XXXXXX.local

; If you set an OTA password in code, uncomment:
; upload_flags =
;   --auth=your-ota-password

; -----------------------------------------------------------------------------
; Optional: If the registry is still problematic on your machine, use Git URLs:
; -----------------------------------------------------------------------------
[env:esp32dev-git]
extends = env:esp32dev

lib_deps =
  bblanchon/ArduinoJson @ ^7
  knolleary/PubSubClient @ ^2
  https://github.com/esphome/AsyncTCP.git
  https://github.com/esphome/ESPAsyncWebServer.git